"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveTheme = void 0;
const shared_1 = require("@vuepress/shared");
const utils_1 = require("@vuepress/utils");
const resolvePlugin_1 = require("./resolvePlugin");
/**
 * Resolve a theme according to the theme name
 */
const resolveTheme = (app, themeName) => {
    // resolve theme entry according to theme name
    const themeEntry = utils_1.requireResolve(utils_1.path.isAbsolute(themeName)
        ? themeName
        : shared_1.normalizePackageName(themeName, 'vuepress', 'theme'));
    if (themeEntry === null) {
        throw utils_1.logger.createError(`theme is not found: ${utils_1.chalk.magenta(themeName)}`);
    }
    // resolve theme from theme entry
    const theme = resolvePlugin_1.resolvePlugin(app, themeEntry, app.options.themeConfig);
    return theme;
};
exports.resolveTheme = resolveTheme;
