"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createBaseConfig = void 0;
const Config = require("webpack-chain");
const handleDevtool_1 = require("./handleDevtool");
const handleEntry_1 = require("./handleEntry");
const handleMode_1 = require("./handleMode");
const handleModule_1 = require("./handleModule");
const handleNode_1 = require("./handleNode");
const handleOtherOptions_1 = require("./handleOtherOptions");
const handlePluginDefine_1 = require("./handlePluginDefine");
const handleResolve_1 = require("./handleResolve");
const createBaseConfig = async ({ app, options, isServer, isBuild, }) => {
    // create new webpack-chain config
    const config = new Config();
    /**
     * entry
     */
    handleEntry_1.handleEntry({ app, config });
    /**
     * mode
     */
    handleMode_1.handleMode({ app, config });
    /**
     * node
     */
    handleNode_1.handleNode({ config });
    /**
     * devtool
     */
    handleDevtool_1.handleDevtool({ app, config });
    /**
     * resolve
     */
    await handleResolve_1.handleResolve({ app, config });
    /**
     * module
     */
    handleModule_1.handleModule({ app, options, config, isServer, isBuild });
    /**
     * plugins
     */
    await handlePluginDefine_1.handlePluginDefine({ app, config, isServer });
    /**
     * other options
     */
    handleOtherOptions_1.handleOtherOptions({ app, config, isServer, isBuild });
    return config;
};
exports.createBaseConfig = createBaseConfig;
