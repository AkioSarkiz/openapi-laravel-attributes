"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveWebpackConfig = void 0;
const webpack_merge_1 = require("webpack-merge");
const resolveWebpackConfig = ({ config, options, isServer, isBuild, }) => {
    // allow modify webpack config via `chainWebpack`
    if (options.chainWebpack) {
        options.chainWebpack(config, isServer, isBuild);
    }
    // generate webpack config from webpack-chain
    const webpackConfig = config.toConfig();
    // allow modify webpack config via `configureWebpack`
    if (options.configureWebpack) {
        return webpack_merge_1.merge(webpackConfig, options.configureWebpack(webpackConfig, isServer, isBuild));
    }
    return webpackConfig;
};
exports.resolveWebpackConfig = resolveWebpackConfig;
